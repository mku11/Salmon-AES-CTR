<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Salmon: Mku.SalmonFS.Streams.AesFileInputStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Salmon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_mku.html">Mku</a></li><li class="navelem"><a class="el" href="namespace_mku_1_1_salmon_f_s.html">SalmonFS</a></li><li class="navelem"><a class="el" href="namespace_mku_1_1_salmon_f_s_1_1_streams.html">Streams</a></li><li class="navelem"><a class="el" href="class_mku_1_1_salmon_f_s_1_1_streams_1_1_aes_file_input_stream.html">AesFileInputStream</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_mku_1_1_salmon_f_s_1_1_streams_1_1_aes_file_input_stream-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Mku.SalmonFS.Streams.AesFileInputStream Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of a C# InputStream for seeking and reading a AesFile. This class provides a seekable source with parallel substreams and cached buffers for performance.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Mku.SalmonFS.Streams.AesFileInputStream:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_mku_1_1_salmon_f_s_1_1_streams_1_1_aes_file_input_stream.png" usemap="#Mku.SalmonFS.Streams.AesFileInputStream_map" alt=""/>
  <map id="Mku.SalmonFS.Streams.AesFileInputStream_map" name="Mku.SalmonFS.Streams.AesFileInputStream_map">
<area href="class_mku_1_1_streams_1_1_input_stream_wrapper.html" title="InputStream wrapper for RandomAccessStream. Use this class to wrap any RandomAccessStream to a ...." alt="Mku.Streams.InputStreamWrapper" shape="rect" coords="0,56,259,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaced15a6eb27736cbaa394e6dbf6cc56" id="r_aaced15a6eb27736cbaa394e6dbf6cc56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaced15a6eb27736cbaa394e6dbf6cc56">AesFileInputStream</a> (<a class="el" href="class_mku_1_1_salmon_f_s_1_1_file_1_1_aes_file.html">AesFile</a> salmonFile, int buffersCount=1, int bufferSize=0, int threads=1, int backOffset=32768)</td></tr>
<tr class="memdesc:aaced15a6eb27736cbaa394e6dbf6cc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate a seekable stream from an encrypted file source.  <br /></td></tr>
<tr class="separator:aaced15a6eb27736cbaa394e6dbf6cc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2f6ed1be6737f6479ca65251193f0f" id="r_a5f2f6ed1be6737f6479ca65251193f0f"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f2f6ed1be6737f6479ca65251193f0f">Close</a> ()</td></tr>
<tr class="memdesc:a5f2f6ed1be6737f6479ca65251193f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the stream and associated backed streams and clear buffers.  <br /></td></tr>
<tr class="separator:a5f2f6ed1be6737f6479ca65251193f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html">Mku.Streams.InputStreamWrapper</a></td></tr>
<tr class="memitem:a4a7b6895315d6df9531ac472a8a10123 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a4a7b6895315d6df9531ac472a8a10123"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a4a7b6895315d6df9531ac472a8a10123">InputStreamWrapper</a> (<a class="el" href="class_mku_1_1_streams_1_1_random_access_stream.html">RandomAccessStream</a> stream, int buffersCount=1, int bufferSize=0, int backOffset=32768, int alignSize=0)</td></tr>
<tr class="memdesc:a4a7b6895315d6df9531ac472a8a10123 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate a seekable stream from an encrypted file source.  <br /></td></tr>
<tr class="separator:a4a7b6895315d6df9531ac472a8a10123 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd9c0679459c42785d5c5a08e6e8701 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_adfd9c0679459c42785d5c5a08e6e8701"><td class="memItemLeft" align="right" valign="top">override int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#adfd9c0679459c42785d5c5a08e6e8701">Read</a> (byte[] buffer, int offset, int count)</td></tr>
<tr class="memdesc:adfd9c0679459c42785d5c5a08e6e8701 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and decrypts the contents of an encrypted file.  <br /></td></tr>
<tr class="separator:adfd9c0679459c42785d5c5a08e6e8701 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90d0d72ffe608d52f20fa528784df57 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_ac90d0d72ffe608d52f20fa528784df57"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#ac90d0d72ffe608d52f20fa528784df57">Close</a> ()</td></tr>
<tr class="memdesc:ac90d0d72ffe608d52f20fa528784df57 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the stream and associated backed streams and clear buffers.  <br /></td></tr>
<tr class="separator:ac90d0d72ffe608d52f20fa528784df57 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b15d97eb4531879685a110fa9218cc inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a41b15d97eb4531879685a110fa9218cc"><td class="memItemLeft" align="right" valign="top">
override void&#160;</td><td class="memItemRight" valign="bottom"><b>Flush</b> ()</td></tr>
<tr class="memdesc:a41b15d97eb4531879685a110fa9218cc inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush buffer to stream, not used. <br /></td></tr>
<tr class="separator:a41b15d97eb4531879685a110fa9218cc inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4998a60066c46d567132b9ef072e0b0e inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a4998a60066c46d567132b9ef072e0b0e"><td class="memItemLeft" align="right" valign="top">override long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a4998a60066c46d567132b9ef072e0b0e">Seek</a> (long offset, SeekOrigin origin)</td></tr>
<tr class="memdesc:a4998a60066c46d567132b9ef072e0b0e inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek to specific position in the stream.  <br /></td></tr>
<tr class="separator:a4998a60066c46d567132b9ef072e0b0e inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1b5202192c588e0a4c4e692d82f5cf inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a3b1b5202192c588e0a4c4e692d82f5cf"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a3b1b5202192c588e0a4c4e692d82f5cf">SetLength</a> (long value)</td></tr>
<tr class="memdesc:a3b1b5202192c588e0a4c4e692d82f5cf inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the stream length, not used.  <br /></td></tr>
<tr class="separator:a3b1b5202192c588e0a4c4e692d82f5cf inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdff24ddb750230350c29fe3fa7f422 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a0cdff24ddb750230350c29fe3fa7f422"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a0cdff24ddb750230350c29fe3fa7f422">Write</a> (byte[] buffer, int offset, int count)</td></tr>
<tr class="memdesc:a0cdff24ddb750230350c29fe3fa7f422 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to stream, not used.  <br /></td></tr>
<tr class="separator:a0cdff24ddb750230350c29fe3fa7f422 inherit pub_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae1ed7737e18d106fcb7051f5205901ef" id="r_ae1ed7737e18d106fcb7051f5205901ef"><td class="memItemLeft" align="right" valign="top">override int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1ed7737e18d106fcb7051f5205901ef">FillBuffer</a> (<a class="el" href="class_mku_1_1_streams_1_1_buffer.html">Buffer</a> cacheBuffer, long startPosition, int length)</td></tr>
<tr class="memdesc:ae1ed7737e18d106fcb7051f5205901ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills a cache buffer with the decrypted data from the encrypted source file.  <br /></td></tr>
<tr class="separator:ae1ed7737e18d106fcb7051f5205901ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html">Mku.Streams.InputStreamWrapper</a></td></tr>
<tr class="memitem:a8de80be301bea19fdba35f881301fad6 inherit pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a8de80be301bea19fdba35f881301fad6"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>CreateBuffers</b> ()</td></tr>
<tr class="memdesc:a8de80be301bea19fdba35f881301fad6 inherit pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create cache buffers that will be used for sourcing the files. These will help reducing multiple small decryption reads from the encrypted source. The first buffer will be sourcing at the start of the encrypted file where the header and indexing are The rest of the buffers can be placed to whatever position the user slides to. <br /></td></tr>
<tr class="separator:a8de80be301bea19fdba35f881301fad6 inherit pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e23d55de168bd771e550ed130006e4 inherit pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a31e23d55de168bd771e550ed130006e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a31e23d55de168bd771e550ed130006e4">FillBufferPart</a> (<a class="el" href="class_mku_1_1_streams_1_1_buffer.html">Buffer</a> cacheBuffer, long start, int offset, int length, <a class="el" href="class_mku_1_1_streams_1_1_random_access_stream.html">RandomAccessStream</a> salmonStream)</td></tr>
<tr class="memdesc:a31e23d55de168bd771e550ed130006e4 inherit pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills a cache buffer with the decrypted data from a part of an encrypted file.  <br /></td></tr>
<tr class="separator:a31e23d55de168bd771e550ed130006e4 inherit pro_methods_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html">Mku.Streams.InputStreamWrapper</a></td></tr>
<tr class="memitem:a38cfba7c571eae7b4dc61428a78d5fb0 inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a38cfba7c571eae7b4dc61428a78d5fb0"><td class="memItemLeft" align="right" valign="top">
static readonly int&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_BUFFER_SIZE</b> = 512 * 1024</td></tr>
<tr class="memdesc:a38cfba7c571eae7b4dc61428a78d5fb0 inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default cache buffer should be high enough for some mpeg videos to work the cache buffers should be aligned to the AesFile chunk size for efficiency. <br /></td></tr>
<tr class="separator:a38cfba7c571eae7b4dc61428a78d5fb0 inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a377e53dcae5c33daa70ce3a69d054f inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a0a377e53dcae5c33daa70ce3a69d054f"><td class="memItemLeft" align="right" valign="top">
static readonly int&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_BUFFERS</b> = 1</td></tr>
<tr class="memdesc:a0a377e53dcae5c33daa70ce3a69d054f inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default buffer count. <br /></td></tr>
<tr class="separator:a0a377e53dcae5c33daa70ce3a69d054f inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b46d0a2be93ae9e6f6f4874ba75a23 inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a85b46d0a2be93ae9e6f6f4874ba75a23"><td class="memItemLeft" align="right" valign="top">
static readonly int&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_BACK_OFFSET</b> = 32768</td></tr>
<tr class="memdesc:a85b46d0a2be93ae9e6f6f4874ba75a23 inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default backwards buffer offset. <br /></td></tr>
<tr class="separator:a85b46d0a2be93ae9e6f6f4874ba75a23 inherit pub_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper')"><img src="closed.png" alt="-"/>&#160;Static Protected Attributes inherited from <a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html">Mku.Streams.InputStreamWrapper</a></td></tr>
<tr class="memitem:abb2c8b9d3859204d45d7bd1d75737ae1 inherit pro_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_abb2c8b9d3859204d45d7bd1d75737ae1"><td class="memItemLeft" align="right" valign="top">
static readonly int&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_BUFFERS</b> = 6</td></tr>
<tr class="memdesc:abb2c8b9d3859204d45d7bd1d75737ae1 inherit pro_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum allowed buffer count. <br /></td></tr>
<tr class="separator:abb2c8b9d3859204d45d7bd1d75737ae1 inherit pro_static_attribs_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td colspan="2" onclick="javascript:dynsection.toggleInherit('properties_class_mku_1_1_streams_1_1_input_stream_wrapper')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html">Mku.Streams.InputStreamWrapper</a></td></tr>
<tr class="memitem:a6d70b58ef17620474735fc2c37599274 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a6d70b58ef17620474735fc2c37599274"><td class="memItemLeft" align="right" valign="top">
int&#160;</td><td class="memItemRight" valign="bottom"><b>BuffersCount</b><code> [get, set]</code></td></tr>
<tr class="memdesc:a6d70b58ef17620474735fc2c37599274 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of buffers. <br /></td></tr>
<tr class="separator:a6d70b58ef17620474735fc2c37599274 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfbb35ce8b9a2a71fe9212285e90637 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a2dfbb35ce8b9a2a71fe9212285e90637"><td class="memItemLeft" align="right" valign="top">
int&#160;</td><td class="memItemRight" valign="bottom"><b>BufferSize</b><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a2dfbb35ce8b9a2a71fe9212285e90637 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bufferSize. <br /></td></tr>
<tr class="separator:a2dfbb35ce8b9a2a71fe9212285e90637 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c90e0b1897e14fc1d44d9fdf976027 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_ac4c90e0b1897e14fc1d44d9fdf976027"><td class="memItemLeft" align="right" valign="top">
long&#160;</td><td class="memItemRight" valign="bottom"><b>StreamPosition</b><code> [get, set]</code></td></tr>
<tr class="memdesc:ac4c90e0b1897e14fc1d44d9fdf976027 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual stream position. <br /></td></tr>
<tr class="separator:ac4c90e0b1897e14fc1d44d9fdf976027 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab8a5970e6fecd513f8bd6234792d72 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a9ab8a5970e6fecd513f8bd6234792d72"><td class="memItemLeft" align="right" valign="top">
long&#160;</td><td class="memItemRight" valign="bottom"><b>TotalSize</b><code> [get, set]</code></td></tr>
<tr class="memdesc:a9ab8a5970e6fecd513f8bd6234792d72 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total size of the base stream. <br /></td></tr>
<tr class="separator:a9ab8a5970e6fecd513f8bd6234792d72 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52bd0eda2ac4b5323195ea8837dfa309 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a52bd0eda2ac4b5323195ea8837dfa309"><td class="memItemLeft" align="right" valign="top">
int&#160;</td><td class="memItemRight" valign="bottom"><b>AlignSize</b><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a52bd0eda2ac4b5323195ea8837dfa309 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">The align size. <br /></td></tr>
<tr class="separator:a52bd0eda2ac4b5323195ea8837dfa309 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0984977d5e6f3dcc105c36165cfb721 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_ab0984977d5e6f3dcc105c36165cfb721"><td class="memItemLeft" align="right" valign="top">
int&#160;</td><td class="memItemRight" valign="bottom"><b>BackOffset</b><code> [get, protected set]</code></td></tr>
<tr class="memdesc:ab0984977d5e6f3dcc105c36165cfb721 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Negative offset for the buffers. Some stream consumers might request data right before the last request. We provide this offset so we don't make multiple requests for filling the buffers ending up with too much overlapping data. <br /></td></tr>
<tr class="separator:ab0984977d5e6f3dcc105c36165cfb721 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632104f89d98eb8fdda2072cc624f164 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a632104f89d98eb8fdda2072cc624f164"><td class="memItemLeft" align="right" valign="top">override long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a632104f89d98eb8fdda2072cc624f164">Length</a><code> [get]</code></td></tr>
<tr class="memdesc:a632104f89d98eb8fdda2072cc624f164 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the stream.  <br /></td></tr>
<tr class="separator:a632104f89d98eb8fdda2072cc624f164 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ad5452a8c6ff826f11b05f906c0ece inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a48ad5452a8c6ff826f11b05f906c0ece"><td class="memItemLeft" align="right" valign="top">
override bool&#160;</td><td class="memItemRight" valign="bottom"><b>CanRead</b><code> [get]</code></td></tr>
<tr class="memdesc:a48ad5452a8c6ff826f11b05f906c0ece inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if stream can read. <br /></td></tr>
<tr class="separator:a48ad5452a8c6ff826f11b05f906c0ece inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca949dff1b59159cfc32895ead5ba09 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a0ca949dff1b59159cfc32895ead5ba09"><td class="memItemLeft" align="right" valign="top">
override bool&#160;</td><td class="memItemRight" valign="bottom"><b>CanSeek</b><code> [get]</code></td></tr>
<tr class="memdesc:a0ca949dff1b59159cfc32895ead5ba09 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if stream can seek. <br /></td></tr>
<tr class="separator:a0ca949dff1b59159cfc32895ead5ba09 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0431c16a57037a5e8c78430b479cf4 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a7f0431c16a57037a5e8c78430b479cf4"><td class="memItemLeft" align="right" valign="top">
override bool&#160;</td><td class="memItemRight" valign="bottom"><b>CanWrite</b><code> [get]</code></td></tr>
<tr class="memdesc:a7f0431c16a57037a5e8c78430b479cf4 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if stream can write. <br /></td></tr>
<tr class="separator:a7f0431c16a57037a5e8c78430b479cf4 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610f3016d6299166390a05bad1b006e7 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a610f3016d6299166390a05bad1b006e7"><td class="memItemLeft" align="right" valign="top">
override long&#160;</td><td class="memItemRight" valign="bottom"><b>Position</b><code> [get, set]</code></td></tr>
<tr class="memdesc:a610f3016d6299166390a05bad1b006e7 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current position of the stream. <br /></td></tr>
<tr class="separator:a610f3016d6299166390a05bad1b006e7 inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5259db670c48c11fad0eee9e4771ceaf inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_a5259db670c48c11fad0eee9e4771ceaf"><td class="memItemLeft" align="right" valign="top">
long&#160;</td><td class="memItemRight" valign="bottom"><b>PositionStart</b><code> [get, set]</code></td></tr>
<tr class="memdesc:a5259db670c48c11fad0eee9e4771ceaf inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position start for libaries that require partial content. <br /></td></tr>
<tr class="separator:a5259db670c48c11fad0eee9e4771ceaf inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6551c108209f0b1708c169f477d11ad inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper" id="r_ab6551c108209f0b1708c169f477d11ad"><td class="memItemLeft" align="right" valign="top">
long&#160;</td><td class="memItemRight" valign="bottom"><b>PositionEnd</b><code> [get, set]</code></td></tr>
<tr class="memdesc:ab6551c108209f0b1708c169f477d11ad inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position end for libaries that require partial content. <br /></td></tr>
<tr class="separator:ab6551c108209f0b1708c169f477d11ad inherit properties_class_mku_1_1_streams_1_1_input_stream_wrapper"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of a C# InputStream for seeking and reading a AesFile. This class provides a seekable source with parallel substreams and cached buffers for performance. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaced15a6eb27736cbaa394e6dbf6cc56" name="aaced15a6eb27736cbaa394e6dbf6cc56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaced15a6eb27736cbaa394e6dbf6cc56">&#9670;&#160;</a></span>AesFileInputStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mku.SalmonFS.Streams.AesFileInputStream.AesFileInputStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_mku_1_1_salmon_f_s_1_1_file_1_1_aes_file.html">AesFile</a></td>          <td class="paramname"><span class="paramname"><em>salmonFile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buffersCount</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bufferSize</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>threads</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>backOffset</em></span><span class="paramdefsep"> = </span><span class="paramdefval">32768</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantiate a seekable stream from an encrypted file source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">salmonFile</td><td>The source file.</td></tr>
    <tr><td class="paramname">buffersCount</td><td>Number of buffers to use.</td></tr>
    <tr><td class="paramname">bufferSize</td><td>The length of each buffer.</td></tr>
    <tr><td class="paramname">threads</td><td>The number of threads/streams to source the file in parallel.</td></tr>
    <tr><td class="paramname">backOffset</td><td>The back offset to use</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5f2f6ed1be6737f6479ca65251193f0f" name="a5f2f6ed1be6737f6479ca65251193f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2f6ed1be6737f6479ca65251193f0f">&#9670;&#160;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override void Mku.SalmonFS.Streams.AesFileInputStream.Close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the stream and associated backed streams and clear buffers. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td>Thrown if error during IO</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae1ed7737e18d106fcb7051f5205901ef" name="ae1ed7737e18d106fcb7051f5205901ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ed7737e18d106fcb7051f5205901ef">&#9670;&#160;</a></span>FillBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override int Mku.SalmonFS.Streams.AesFileInputStream.FillBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_mku_1_1_streams_1_1_buffer.html">Buffer</a></td>          <td class="paramname"><span class="paramname"><em>cacheBuffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>startPosition</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills a cache buffer with the decrypted data from the encrypted source file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cacheBuffer</td><td>The cache buffer that will store the decrypted contents</td></tr>
    <tr><td class="paramname">startPosition</td><td>The start position of the data requested</td></tr>
    <tr><td class="paramname">length</td><td>The length of the data requested</td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_mku_1_1_streams_1_1_input_stream_wrapper.html#a413d4e552f1aac1b2acf2c7f461aeafa">Mku.Streams.InputStreamWrapper</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><b>AesFileInputStream.cs</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
