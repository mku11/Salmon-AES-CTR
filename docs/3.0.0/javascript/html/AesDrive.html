<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: AesDrive</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: AesDrive</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>AesDrive<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Class provides an abstract virtual drive that can be extended for use with
any filesystem ie disk, net, cloud, etc.
Each drive implementation needs a corresponding implementation of IFile.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="AesDrive"><span class="type-signature"></span>new AesDrive<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="AesDrive.html">AesDrive</a></dt>
            <dd></dd>
        </dl>
    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Close the drive and associated resources.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createConfigFile"><span class="type-signature">(async) </span>createConfigFile<span class="signature">(realRoot)</span><span class="type-signature"> &rarr; {Promise.&lt;IFile>}</span></h4>
    

    



<div class="description">
    Create the config file for this drive. By default the config file is placed in the real root of the vault.
You can override this with your own location, make sure you also override getConfigFile().
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>realRoot</code></td>
            

            <td class="type">
            
                
<span class="param-type">IFile</span>


            
            </td>

            

            

            <td class="description last">The real root directory of the vault</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line453">line 453</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The config file that was created
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;IFile></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="createSequence"><span class="type-signature">(async) </span>createSequence<span class="signature">(driveId, authId)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create a nonce sequence for the drive id and the authorization id provided. Should be called
once per driveId/authId combination.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>driveId</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">The driveId</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authId</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">The authId</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line367">line 367</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        Exception If error occurs during creation
    
    </div>


    







        
            

    

    
    <h4 class="name" id="getAuthId"><span class="type-signature">(async) </span>getAuthId<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;string>}</span></h4>
    

    



<div class="description">
    Get the authorization ID for the current device.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line414">line 414</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

    <div class="param-desc">
    
        SequenceException Thrown if error with the nonce sequence
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        SalmonAuthException Thrown when error during authorization
    
    </div>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    The auth id
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getAuthIdBytes"><span class="type-signature">(async) </span>getAuthIdBytes<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;Uint8Array>}</span></h4>
    

    



<div class="description">
    Get the device authorization byte array for the current drive.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line331">line 331</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        Exception If error occurs during retrieval
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    The byte array with the auth id
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Uint8Array></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getBytesFromRealFile"><span class="type-signature">(async) </span>getBytesFromRealFile<span class="signature">(file, bufferSize)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get the byte contents of a file from the real filesystem.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>file</code></td>
            

            <td class="type">
            
                
<span class="param-type">IFile</span>


            
            </td>

            

            

            <td class="description last">The file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bufferSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">The buffer to be used when reading</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line195">line 195</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getConfigFile"><span class="type-signature">(async) </span>getConfigFile<span class="signature">(realRoot)</span><span class="type-signature"> &rarr; {Promise.&lt;(IFile|null)>}</span></h4>
    

    



<div class="description">
    Get the config file for this drive. By default the config file is placed in the real root of the vault.
You can override this with your own location.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>realRoot</code></td>
            

            <td class="type">
            
                
<span class="param-type">IFile</span>


            
            </td>

            

            

            <td class="description last">The real root directory of the vault</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line463">line 463</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The config file that will be used for this drive.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(IFile|null)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDefaultFileChunkSize"><span class="type-signature"></span>getDefaultFileChunkSize<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Return the default file chunk size
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line129">line 129</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The default chunk size.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDriveConfig"><span class="type-signature">(async) </span>getDriveConfig<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;(<a href="DriveConfig.html">DriveConfig</a>|null)>}</span></h4>
    

    



<div class="description">
    Return the configuration properties of this drive.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The configuration
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(<a href="DriveConfig.html">DriveConfig</a>|null)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getDriveId"><span class="type-signature"></span>getDriveId<span class="signature">()</span><span class="type-signature"> &rarr; {Uint8Array|null}</span></h4>
    

    



<div class="description">
    Get the drive id.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line250">line 250</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The drive id.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Uint8Array</span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getExportDir"><span class="type-signature">(async) </span>getExportDir<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;IFile>}</span></h4>
    

    



<div class="description">
    Return the default external export dir that all file can be exported to.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line210">line 210</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The file on the real filesystem.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;IFile></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getHashProvider"><span class="type-signature"></span>getHashProvider<span class="signature">()</span><span class="type-signature"> &rarr; {IHashProvider}</span></h4>
    

    



<div class="description">
    Get the has provider for this drive.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line286">line 286</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The hash provider
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">IHashProvider</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getKey"><span class="type-signature"></span>getKey<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="DriveKey.html">DriveKey</a>|null}</span></h4>
    

    



<div class="description">
    Return the encryption key that is used for encryption / decryption
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line143">line 143</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The drive key
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="DriveKey.html">DriveKey</a></span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getNextNonce"><span class="type-signature">(async) </span>getNextNonce<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;(Uint8Array|null)>}</span></h4>
    

    



<div class="description">
    Get the next nonce from the sequencer. This advanced the sequencer so unique nonce are used.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line181">line 181</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        Exception
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    The next nonce.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(Uint8Array|null)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getRoot"><span class="type-signature">(async) </span>getRoot<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;(IVirtualFile|null)>}</span></h4>
    

    



<div class="description">
    Return the virtual root directory of the drive.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line151">line 151</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        SalmonAuthException Thrown when error during authorization
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    The virtual file
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(IVirtualFile|null)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSequencer"><span class="type-signature"></span>getSequencer<span class="signature">()</span><span class="type-signature"> &rarr; {INonceSequencer|undefined}</span></h4>
    

    



<div class="description">
    Get the nonce sequencer used for the current drive.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line434">line 434</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The nonce sequencer
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">INonceSequencer</span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="hasConfig"><span class="type-signature">(async) </span>hasConfig<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>
    

    



<div class="description">
    Return true if the drive is already created and has a configuration file.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line235">line 235</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if configuration file was found
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="initFS"><span class="type-signature">(async) </span>initFS<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Initialize the drive virtual filesystem.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line267">line 267</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="initializeSequence"><span class="type-signature">(async) </span>initializeSequence<span class="signature">(driveId, authId)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Initialize the nonce sequencer with the current drive nonce range. Should be called
once per driveId/authId combination.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>driveId</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">Drive ID.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authId</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">Authorization ID.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line382">line 382</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        Exception If error occurs during initialization
    
    </div>


    







        
            

    

    
    <h4 class="name" id="revokeAuthorization"><span class="type-signature">(async) </span>revokeAuthorization<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Revoke authorization for this device. This will effectively terminate write operations on the current disk
by the current device. Warning: If you need to authorize write operations to the device again you will need
to have another device to export an authorization config file and reimport it.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line399">line 399</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/mku11/Salmon-AES-CTR#readme">Salmon README.md</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        Exception If error occurs during revoke.
    
    </div>


    







        
            

    

    
    <h4 class="name" id="setDefaultFileChunkSize"><span class="type-signature"></span>setDefaultFileChunkSize<span class="signature">(fileChunkSize)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set the default file chunk size to be used with hash integrity.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fileChunkSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line136">line 136</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setKey"><span class="type-signature"></span>setKey<span class="signature">(masterKey, driveKey, hashKey, iterations)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sets the key properties.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>masterKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">The master key.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>driveKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">The drive key used for enc/dec of files and filenames.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>hashKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">The hash key used for data integrity.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>iterations</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The iterations</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line168">line 168</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setPassword"><span class="type-signature">(async) </span>setPassword<span class="signature">(pass)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Change the user password.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pass</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The new password.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line426">line 426</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

    <div class="param-desc">
    
        IOException Thrown if there is an IO error.
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        SalmonAuthException Thrown when error during authorization
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        SalmonSecurityException Thrown when error with security
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        IntegrityException Thrown if the data are corrupt or tampered with.
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        SequenceException Thrown if error with the nonce sequence
    
    </div>

</li>
    </ul>







        
            

    

    
    <h4 class="name" id="setSequencer"><span class="type-signature"></span>setSequencer<span class="signature">(sequencer)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set the nonce sequencer used for the current drive.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sequencer</code></td>
            

            <td class="type">
            
                
<span class="param-type">INonceSequencer</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">The nonce sequencer</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line444">line 444</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".createDrive"><span class="type-signature">(async, static) </span>createDrive<span class="signature">(dir, driveClassType, password, sequencer)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="AesDrive.html">AesDrive</a>>}</span></h4>
    

    



<div class="description">
    Create a new drive in the provided location.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">IFile</span>


            
            </td>

            

            

            <td class="description last">Directory to store the drive configuration and virtual filesystem.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>driveClassType</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last">The driver class type (ie Drive).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Text password to encrypt the drive configuration.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sequencer</code></td>
            

            <td class="type">
            
                
<span class="param-type">INonceSequencer</span>


            
            </td>

            

            

            <td class="description last">The sequencer to use.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line318">line 318</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>
<ul>
        <li>

    <div class="param-desc">
    
        IntegrityException Thrown if the data are corrupt or tampered with.
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        SequenceException Thrown if error with the nonce sequence
    
    </div>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    The newly created drive.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="AesDrive.html">AesDrive</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".getDefaultAuthConfigFilename"><span class="type-signature">(static) </span>getDefaultAuthConfigFilename<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Get the default auth config filename.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line356">line 356</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The authorization configuration file name.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".openDrive"><span class="type-signature">(async, static) </span>openDrive<span class="signature">(dir, driveClassType, password, sequencer<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="AesDrive.html">AesDrive</a>>}</span></h4>
    

    



<div class="description">
    Set the drive location to an external directory.
This requires you previously use SetDriveClass() to provide a class for the drive
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">IFile</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The directory path that will be used for storing the contents of the drive</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>driveClassType</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The driver class type (ie Drive).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Text password to encrypt the drive configuration.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sequencer</code></td>
            

            <td class="type">
            
                
<span class="param-type">INonceSequencer</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The sequencer to use.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="salmon-fs_salmonfs_drive_aes_drive.js.html">salmon-fs/salmonfs/drive/aes_drive.js</a>, <a href="salmon-fs_salmonfs_drive_aes_drive.js.html#line299">line 299</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The drive
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="AesDrive.html">AesDrive</a>></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AESCTRTransformer.html">AESCTRTransformer</a></li><li><a href="AesDefaultTransformer.html">AesDefaultTransformer</a></li><li><a href="AesDrive.html">AesDrive</a></li><li><a href="AesFile.html">AesFile</a></li><li><a href="AesFileCommander.html">AesFileCommander</a></li><li><a href="AesFileExporter.html">AesFileExporter</a></li><li><a href="AesFileExporterWorker.html">AesFileExporterWorker</a></li><li><a href="AesFileImporter.html">AesFileImporter</a></li><li><a href="AesFileImporterWorker.html">AesFileImporterWorker</a></li><li><a href="AesFileReadableStream.html">AesFileReadableStream</a></li><li><a href="AesNativeTransformer.html">AesNativeTransformer</a></li><li><a href="AesStream.html">AesStream</a></li><li><a href="AuthConfig.html">AuthConfig</a></li><li><a href="AuthException.html">AuthException</a></li><li><a href="Base64.html">Base64</a></li><li><a href="Base64Utils.html">Base64Utils</a></li><li><a href="BatchCopyOptions.html">BatchCopyOptions</a></li><li><a href="BatchDeleteOptions.html">BatchDeleteOptions</a></li><li><a href="BatchExportOptions.html">BatchExportOptions</a></li><li><a href="BatchImportOptions.html">BatchImportOptions</a></li><li><a href="BitConverter.html">BitConverter</a></li><li><a href="CacheBuffer.html">CacheBuffer</a></li><li><a href="CopyContentsOptions.html">CopyContentsOptions</a></li><li><a href="CopyOptions.html">CopyOptions</a></li><li><a href="Credentials_Credentials.html">Credentials</a></li><li><a href="Decryptor.html">Decryptor</a></li><li><a href="DefaultPbkdfProvider.html">DefaultPbkdfProvider</a></li><li><a href="Drive.html">Drive</a></li><li><a href="DriveConfig.html">DriveConfig</a></li><li><a href="DriveGenerator.html">DriveGenerator</a></li><li><a href="DriveKey.html">DriveKey</a></li><li><a href="Encryptor.html">Encryptor</a></li><li><a href="File.html">File</a></li><li><a href="FileCommander.html">FileCommander</a></li><li><a href="FileExportOptions.html">FileExportOptions</a></li><li><a href="FileExporter.html">FileExporter</a></li><li><a href="FileExporterWorker.html">FileExporterWorker</a></li><li><a href="FileImportOptions.html">FileImportOptions</a></li><li><a href="FileImporter.html">FileImporter</a></li><li><a href="FileImporterWorker.html">FileImporterWorker</a></li><li><a href="FileSearcher.html">FileSearcher</a></li><li><a href="FileSequencer.html">FileSequencer</a></li><li><a href="FileStream.html">FileStream</a></li><li><a href="FileTaskProgress.html">FileTaskProgress</a></li><li><a href="FileUtils.html">FileUtils</a></li><li><a href="Generator.html">Generator</a></li><li><a href="Handler.html">Handler</a></li><li><a href="Header.html">Header</a></li><li><a href="HmacSHA256Provider.html">HmacSHA256Provider</a></li><li><a href="HttpDrive.html">HttpDrive</a></li><li><a href="HttpFile.html">HttpFile</a></li><li><a href="HttpFileStream.html">HttpFileStream</a></li><li><a href="IOException.html">IOException</a></li><li><a href="IVirtualFileTaskProgress.html">IVirtualFileTaskProgress</a></li><li><a href="Integrity.html">Integrity</a></li><li><a href="IntegrityException.html">IntegrityException</a></li><li><a href="LocalStorageFile.html">LocalStorageFile</a></li><li><a href="LocalStorageFileStream.html">LocalStorageFileStream</a></li><li><a href="MemoryStream.html">MemoryStream</a></li><li><a href="MoveOptions.html">MoveOptions</a></li><li><a href="NativeProxy.html">NativeProxy</a></li><li><a href="NodeDrive.html">NodeDrive</a></li><li><a href="NodeFile.html">NodeFile</a></li><li><a href="NodeFileStream.html">NodeFileStream</a></li><li><a href="Nonce.html">Nonce</a></li><li><a href="NonceSequence.html">NonceSequence</a></li><li><a href="Password.html">Password</a></li><li><a href="PbkdfFactory.html">PbkdfFactory</a></li><li><a href="RandomAccessStream.html">RandomAccessStream</a></li><li><a href="RangeExceededException.html">RangeExceededException</a></li><li><a href="ReadableStreamFileReader_ReadableStreamFileReader.html">ReadableStreamFileReader</a></li><li><a href="RealFileTaskProgress.html">RealFileTaskProgress</a></li><li><a href="RecursiveCopyOptions.html">RecursiveCopyOptions</a></li><li><a href="RecursiveDeleteOptions.html">RecursiveDeleteOptions</a></li><li><a href="RecursiveMoveOptions.html">RecursiveMoveOptions</a></li><li><a href="SearchOptions.html">SearchOptions</a></li><li><a href="SecurityException.html">SecurityException</a></li><li><a href="SequenceException.html">SequenceException</a></li><li><a href="SequenceSerializer.html">SequenceSerializer</a></li><li><a href="TextDecryptor.html">TextDecryptor</a></li><li><a href="TextEncryptor.html">TextEncryptor</a></li><li><a href="TransformerFactory.html">TransformerFactory</a></li><li><a href="VirtualRecursiveCopyOptions.html">VirtualRecursiveCopyOptions</a></li><li><a href="VirtualRecursiveDeleteOptions.html">VirtualRecursiveDeleteOptions</a></li><li><a href="VirtualRecursiveMoveOptions.html">VirtualRecursiveMoveOptions</a></li><li><a href="WSDrive.html">WSDrive</a></li><li><a href="WSFile.html">WSFile</a></li><li><a href="WSFileStream.html">WSFileStream</a></li></ul><h3>Global</h3><ul><li><a href="global.html#EncryptionFormat">EncryptionFormat</a></li><li><a href="global.html#EncryptionFormat%255Bundefined%255D">EncryptionFormat[undefined]</a></li><li><a href="global.html#EncryptionMode">EncryptionMode</a></li><li><a href="global.html#EncryptionMode%255Bundefined%255D">EncryptionMode[undefined]</a></li><li><a href="global.html#PBKDF_SHA256">PBKDF_SHA256</a></li><li><a href="global.html#PbkdfAlgo">PbkdfAlgo</a></li><li><a href="global.html#PbkdfAlgo%255Bundefined%255D">PbkdfAlgo[undefined]</a></li><li><a href="global.html#PbkdfType">PbkdfType</a></li><li><a href="global.html#PbkdfType%255Bundefined%255D">PbkdfType[undefined]</a></li><li><a href="global.html#ProviderType">ProviderType</a></li><li><a href="global.html#ProviderType%255Bundefined%255D">ProviderType[undefined]</a></li><li><a href="global.html#SearchEvent">SearchEvent</a></li><li><a href="global.html#SearchEvent%255Bundefined%255D">SearchEvent[undefined]</a></li><li><a href="global.html#SeekOrigin">SeekOrigin</a></li><li><a href="global.html#SeekOrigin%255Bundefined%255D">SeekOrigin[undefined]</a></li><li><a href="global.html#Status">Status</a></li><li><a href="global.html#Status%255Bundefined%255D">Status[undefined]</a></li><li><a href="global.html#autoRename">autoRename</a></li><li><a href="global.html#autoRenameFile">autoRenameFile</a></li><li><a href="global.html#copyFileContents">copyFileContents</a></li><li><a href="global.html#copyRecursively">copyRecursively</a></li><li><a href="global.html#decryptData">decryptData</a></li><li><a href="global.html#deleteRecursively">deleteRecursively</a></li><li><a href="global.html#encryptData">encryptData</a></li><li><a href="global.html#exportFilePart">exportFilePart</a></li><li><a href="global.html#fillBufferPart">fillBufferPart</a></li><li><a href="global.html#getExtension">getExtension</a></li><li><a href="global.html#getPbkdfAlgoString">getPbkdfAlgoString</a></li><li><a href="global.html#importFilePart">importFilePart</a></li><li><a href="global.html#moveRecursively">moveRecursively</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Mar 25 2025 20:22:02 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>