<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.15) on Tue Mar 25 20:21:31 EET 2025 -->
<title>WinFileSequencer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-03-25">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WinFileSequencer";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.mku.win.salmon.sequencer</a></div>
<h2 title="Class WinFileSequencer" class="title">Class WinFileSequencer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../salmonfs/sequence/FileSequencer.html" title="class in com.mku.salmonfs.sequence">com.mku.salmonfs.sequence.FileSequencer</a></li>
<li>
<ul class="inheritance">
<li>com.mku.win.salmon.sequencer.WinFileSequencer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../salmon/sequence/INonceSequencer.html" title="interface in com.mku.salmon.sequence">INonceSequencer</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">WinFileSequencer</span>
extends <a href="../../../salmonfs/sequence/FileSequencer.html" title="class in com.mku.salmonfs.sequence">FileSequencer</a></pre>
<div class="block">File Sequencer for Windows with tamper protection.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.mku.fs.file.IFile,com.mku.salmon.sequence.INonceSequenceSerializer,java.lang.String)">WinFileSequencer</a></span>&#8203;(<a href="../../../fs/file/IFile.html" title="interface in com.mku.fs.file">IFile</a>&nbsp;sequenceFile,
                <a href="../../../salmon/sequence/INonceSequenceSerializer.html" title="interface in com.mku.salmon.sequence">INonceSequenceSerializer</a>&nbsp;serializer,
                java.lang.String&nbsp;regCheckSumKey)</code></th>
<td class="colLast">
<div class="block">Instantiate a windows file sequencer.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCheckSumKey()">getCheckSumKey</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the registry key to save the checksum.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getContents()">getContents</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the checksum the registry and verifies the contents.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reset(boolean)">reset</a></span>&#8203;(boolean&nbsp;clearChecksumOnly)</code></th>
<td class="colLast">
<div class="block">Reset the sequences.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveContents(java.lang.String)">saveContents</a></span>&#8203;(java.lang.String&nbsp;contents)</code></th>
<td class="colLast">
<div class="block">Save contents to the file and checksum to registry.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCheckSumKey(java.lang.String)">setCheckSumKey</a></span>&#8203;(java.lang.String&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Set the registry key to save the checksum.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.mku.salmonfs.sequence.FileSequencer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.mku.salmonfs.sequence.<a href="../../../salmonfs/sequence/FileSequencer.html" title="class in com.mku.salmonfs.sequence">FileSequencer</a></h3>
<code><a href="../../../salmonfs/sequence/FileSequencer.html#close()">close</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#createSequence(java.lang.String,java.lang.String)">createSequence</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#getSequence(java.lang.String)">getSequence</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#getSequenceFile()">getSequenceFile</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#initializeSequence(java.lang.String,java.lang.String,byte%5B%5D,byte%5B%5D)">initializeSequence</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#nextNonce(java.lang.String)">nextNonce</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#revokeSequence(java.lang.String)">revokeSequence</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#saveSequenceFile(java.util.HashMap)">saveSequenceFile</a>, <a href="../../../salmonfs/sequence/FileSequencer.html#setMaxNonce(java.lang.String,java.lang.String,byte%5B%5D)">setMaxNonce</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.mku.fs.file.IFile,com.mku.salmon.sequence.INonceSequenceSerializer,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WinFileSequencer</h4>
<pre>public&nbsp;WinFileSequencer&#8203;(<a href="../../../fs/file/IFile.html" title="interface in com.mku.fs.file">IFile</a>&nbsp;sequenceFile,
                        <a href="../../../salmon/sequence/INonceSequenceSerializer.html" title="interface in com.mku.salmon.sequence">INonceSequenceSerializer</a>&nbsp;serializer,
                        java.lang.String&nbsp;regCheckSumKey)
                 throws java.io.IOException</pre>
<div class="block">Instantiate a windows file sequencer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sequenceFile</code> - The sequence file</dd>
<dd><code>serializer</code> - The serializer</dd>
<dd><code>regCheckSumKey</code> - The registry key to use for the checksum.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../salmon/sequence/SequenceException.html" title="class in com.mku.salmon.sequence">SequenceException</a></code> - Thrown if there is an error with the nonce sequence</dd>
<dd><code>java.io.IOException</code> - Thrown if there is an IO error.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getCheckSumKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckSumKey</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getCheckSumKey()</pre>
<div class="block">Get the registry key to save the checksum.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The key</dd>
</dl>
</li>
</ul>
<a id="setCheckSumKey(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheckSumKey</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCheckSumKey&#8203;(java.lang.String&nbsp;key)</pre>
<div class="block">Set the registry key to save the checksum.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key</dd>
</dl>
</li>
</ul>
<a id="getContents()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContents</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;getContents()</pre>
<div class="block">Gets the checksum the registry and verifies the contents.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../salmonfs/sequence/FileSequencer.html#getContents()">getContents</a></code>&nbsp;in class&nbsp;<code><a href="../../../salmonfs/sequence/FileSequencer.html" title="class in com.mku.salmonfs.sequence">FileSequencer</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The contents</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../salmon/sequence/SequenceException.html" title="class in com.mku.salmon.sequence">SequenceException</a></code> - Thrown if there is an error with the nonce sequence</dd>
</dl>
</li>
</ul>
<a id="saveContents(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveContents</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;saveContents&#8203;(java.lang.String&nbsp;contents)</pre>
<div class="block">Save contents to the file and checksum to registry. The checksum is using
        SHA256 but to further protected from rainbow attacks we also encrypt it
        with the User windows credentials using ProtectedData.
        from rainbow attacks</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../salmonfs/sequence/FileSequencer.html#saveContents(java.lang.String)">saveContents</a></code>&nbsp;in class&nbsp;<code><a href="../../../salmonfs/sequence/FileSequencer.html" title="class in com.mku.salmonfs.sequence">FileSequencer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contents</code> - The contents</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../salmon/sequence/SequenceException.html" title="class in com.mku.salmon.sequence">SequenceException</a></code> - Thrown if there is an error with the nonce sequence</dd>
</dl>
</li>
</ul>
<a id="reset(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;reset&#8203;(boolean&nbsp;clearChecksumOnly)</pre>
<div class="block">Reset the sequences. The device will be de-authorized for all drives.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clearChecksumOnly</code> - True to only clear the registry checksum, use only if you know what you're doing. Default value is false)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
